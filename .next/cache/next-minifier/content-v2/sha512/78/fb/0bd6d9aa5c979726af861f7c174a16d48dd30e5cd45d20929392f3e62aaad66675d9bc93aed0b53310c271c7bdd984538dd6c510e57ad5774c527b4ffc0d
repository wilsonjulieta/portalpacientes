{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[31],{\"/JOw\":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/login/[consultorioId]\",function(){return r(\"wI0l\")}])},wI0l:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"__N_SSP\",(function(){return A}));var n=r(\"nKUr\"),a=r(\"o0o1\"),s=r.n(a),o=r(\"rePB\"),c=r(\"HaE+\"),i=r(\"q1tI\"),l=r(\"1AYd\"),d=(r(\"i6E2\"),r(\"i4t8\")),u=r(\"mtPR\"),j=r(\"um8N\"),p=r(\"Kg+a\"),b=r(\"A2So\"),O=r(\"2zww\"),h=(r(\"G2Vl\"),r(\"UsYt\")),m=r(\"5LSk\"),x=(r(\"Q6fj\"),r(\"2FEq\")),g=r(\"ADg1\"),f=r(\"cVXz\"),y=r(\"jjAL\"),w=r(\"0pzY\"),v=(r(\"+lJc\"),r(\"20a2\")),N=(r(\"3mUM\"),r(\"f5/H\")),P=r(\"iCec\"),I=r(\"7w+Y\"),C=r(\"DH0G\"),k=r(\"NyWP\"),S=r(\"zzrN\");function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){var t=e.consultorioId,r=Object(v.useRouter)(),a=\"Inicio\",o=Object(I.a)(w.a),x=Object(i.useState)(\"\"),_=x[0],E=x[1],A=Object(i.useContext)(P.a).setUser,T=function(){var e=Object(c.a)(s.a.mark((function e(n){var o,c,i,l,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),o=new FormData(n.target),c=o.get(\"tipodoc\"),i=o.get(\"username\"),l=o.get(\"password\"),Object(S.b)(a),d={},e.prev=7,e.next=10,Object(N.b)(c,i,l,t);case 10:d=e.sent,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(7);case 15:return e.prev=15,e.finish(15);case 17:if(console.log(d),!d.loggedIn){e.next=28;break}return sessionStorage.setItem(\"id\",d.data.id),sessionStorage.setItem(\"token\",d.token),Object(k.setCookie)(null,\"id\",d.data.id,{maxAge:15768e5,path:\"/\"}),Object(k.setCookie)(null,\"token\",d.token,{maxAge:86400,path:\"/\"}),A(D(D({},d.data),{},{consultorioId:t})),r.push(\"/admin/\"+t+\"/dashboard\"),e.abrupt(\"return\",!0);case 28:return sessionStorage.clear(),Object(S.a)(a),E(d.message),e.abrupt(\"return\",!1);case 32:case\"end\":return e.stop()}}),e,null,[[7,13,15,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(\"form\",{method:\"post\",action:\"/admin/dashboard\",onSubmit:T,autoComplete:\"on\",children:Object(n.jsx)(u.a,{style:{width:\"100%\",height:\"80vh\",alignItems:\"center\"},justify:\"center\",children:Object(n.jsx)(d.a,{xs:12,sm:10,md:7,children:Object(n.jsxs)(b.a,{children:[Object(n.jsxs)(O.a,{color:\"primary\",children:[Object(n.jsx)(\"h4\",{className:o.cardTitleWhite,children:\"Bienvenido\"}),Object(n.jsx)(\"p\",{className:o.cardCategoryWhite,children:\"Complete sus datos de ingreso\"})]}),Object(n.jsx)(h.a,{children:Object(n.jsxs)(u.a,{children:[Object(n.jsx)(d.a,{xs:12,sm:12,md:12,children:Object(n.jsxs)(g.a,{fullWidth:!0,children:[Object(n.jsx)(l.a,{className:o.label,variant:\"standard\",htmlFor:\"uncontrolled-native\",children:\"Tipo de Documento\"}),Object(n.jsxs)(f.a,{className:o.select,classes:{root:o.selectRoot},defaultValue:1,inputProps:{name:\"tipodoc\",id:\"uncontrolled-native\",required:!0,onChange:function(){return E(!1)}},children:[Object(n.jsx)(y.a,{value:1,selected:!0,children:\"DNI\"}),Object(n.jsx)(y.a,{value:2,children:\"CI\"}),Object(n.jsx)(y.a,{value:3,children:\"Pasaporte\"})]})]})}),Object(n.jsx)(d.a,{xs:12,sm:12,md:12,children:Object(n.jsx)(j.a,{labelText:\"Nro. de Documento\",id:\"username\",formControlProps:{fullWidth:!0},inputProps:{name:\"username\",id:\"username\",type:\"number\",required:!0,autoComplete:\"username\",onChange:function(){return E(!1)}}})}),Object(n.jsx)(d.a,{xs:12,sm:12,md:12,children:Object(n.jsx)(C.a,{labelText:\"Contrase\\xf1a\",inputName:\"password\",handleChangeHook:function(){return E(!1)}})}),Object(n.jsx)(d.a,{children:Object(n.jsx)(\"p\",{style:{color:_?\"red\":\"transparent\",margin:\"0\",transition:\"all 0.6s\",userSelect:\"none\"},children:_||'Sus datos estan cargados pero no se encuentra registrado. Ingrese a \"registrarse\".'})})]})}),Object(n.jsxs)(m.a,{style:{paddingTop:\"0\",flexWrap:\"wrap\",rowGap:\"10px\",justifyContent:\"center\",paddingInline:\"18px\"},children:[Object(n.jsx)(\"div\",{style:{flex:\"1 0 33.33%\",textAlign:\"left\"},className:\"botonLoginRegistro\",children:Object(n.jsx)(p.a,{onClick:function(){var e=r.asPath;r.push(e+\"/register\")},type:\"button\",color:\"primaryOutlined\",style:{padding:\"15px 6px\"},children:\"Registrarse\"})}),Object(n.jsx)(\"div\",{style:{flex:\"1 0 33.33%\",textAlign:\"center\"},className:\"botonLoginIngreso\",children:Object(n.jsx)(p.a,{type:\"submit\",color:\"primary\",style:{fontSize:\"1.35em\"},children:\"Ingresar\"})}),Object(n.jsx)(\"div\",{style:{flex:\"1 0 33.33%\",textAlign:\"right\"},className:\"botonLoginOlvido\",children:Object(n.jsx)(p.a,{type:\"button\",color:\"secondarySimple\",style:{padding:\"15px 6px\"},children:\"Olvid\\xe9 mi contrase\\xf1a\"})})]})]})})})})}E.layout=x.a;var A=!0;t.default=E}},[[\"/JOw\",0,1,2,3,5,6,8,9,11,4]]]);","map":{"version":3,"sources":["static/chunks/pages/login/[consultorioId]-83113bde127dffae1932.js"],"names":["_N_E","window","push","/JOw","module","exports","__webpack_require__","__NEXT_P","wI0l","__webpack_exports__","r","d","__N_SSP","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","n","_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_4__","_material_ui_core_InputLabel__WEBPACK_IMPORTED_MODULE_5__","components_Grid_GridItem_js__WEBPACK_IMPORTED_MODULE_7__","components_Grid_GridContainer_js__WEBPACK_IMPORTED_MODULE_8__","components_CustomInput_CustomInput_js__WEBPACK_IMPORTED_MODULE_9__","components_CustomButtons_Button_js__WEBPACK_IMPORTED_MODULE_10__","components_Card_Card_js__WEBPACK_IMPORTED_MODULE_11__","components_Card_CardHeader_js__WEBPACK_IMPORTED_MODULE_12__","components_Card_CardBody_js__WEBPACK_IMPORTED_MODULE_14__","components_Card_CardFooter_js__WEBPACK_IMPORTED_MODULE_15__","_layouts_Login__WEBPACK_IMPORTED_MODULE_17__","_material_ui_core__WEBPACK_IMPORTED_MODULE_18__","_material_ui_core__WEBPACK_IMPORTED_MODULE_19__","_material_ui_core__WEBPACK_IMPORTED_MODULE_20__","assets_jss_nextjs_material_dashboard_layouts_loginStyle_js__WEBPACK_IMPORTED_MODULE_21__","next_router__WEBPACK_IMPORTED_MODULE_23__","_services_userAuth_js__WEBPACK_IMPORTED_MODULE_25__","_context_UserContextProvider__WEBPACK_IMPORTED_MODULE_26__","_hooks_useTheme__WEBPACK_IMPORTED_MODULE_27__","_components_CustomInput_CustomPasswordInput__WEBPACK_IMPORTED_MODULE_28__","nookies__WEBPACK_IMPORTED_MODULE_29__","_utils_loading__WEBPACK_IMPORTED_MODULE_30__","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","LoginView","_ref","consultorioId","router","path","classes","_useState","errorMsg","setErrorMsg","setUser","handleSubmit","_ref2","a","mark","_callee","event","formData","tipoDoc","username","password","loginResponse","wrap","_context","prev","next","preventDefault","FormData","get","sent","t0","finish","console","log","loggedIn","sessionStorage","setItem","data","id","token","maxAge","abrupt","clear","message","stop","_x","this","method","action","onSubmit","autoComplete","children","style","width","height","alignItems","justify","xs","sm","md","color","className","cardTitleWhite","cardCategoryWhite","fullWidth","label","variant","htmlFor","select","root","selectRoot","defaultValue","inputProps","name","required","onChange","value","selected","labelText","formControlProps","type","inputName","handleChangeHook","margin","transition","userSelect","paddingTop","flexWrap","rowGap","justifyContent","paddingInline","flex","textAlign","onClick","currentPath","asPath","padding","fontSize","layout"],"mappings":"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"},"name":"static/chunks/pages/login/[consultorioId]-83113bde127dffae1932.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[31],{\n\n/***/ \"/JOw\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/login/[consultorioId]\",\n        function () {\n          return __webpack_require__(\"wI0l\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"wI0l\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"o0o1\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"rePB\");\n/* harmony import */ var _babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"HaE+\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _material_ui_core_InputLabel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"1AYd\");\n/* harmony import */ var layouts_Admin_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"i6E2\");\n/* harmony import */ var components_Grid_GridItem_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"i4t8\");\n/* harmony import */ var components_Grid_GridContainer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"mtPR\");\n/* harmony import */ var components_CustomInput_CustomInput_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"um8N\");\n/* harmony import */ var components_CustomButtons_Button_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"Kg+a\");\n/* harmony import */ var components_Card_Card_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"A2So\");\n/* harmony import */ var components_Card_CardHeader_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"2zww\");\n/* harmony import */ var components_Card_CardAvatar_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"G2Vl\");\n/* harmony import */ var components_Card_CardBody_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"UsYt\");\n/* harmony import */ var components_Card_CardFooter_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"5LSk\");\n/* harmony import */ var assets_img_faces_marc_jpg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"Q6fj\");\n/* harmony import */ var assets_img_faces_marc_jpg__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(assets_img_faces_marc_jpg__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _layouts_Login__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"2FEq\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"ADg1\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"cVXz\");\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"jjAL\");\n/* harmony import */ var assets_jss_nextjs_material_dashboard_layouts_loginStyle_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(\"0pzY\");\n/* harmony import */ var _context_ThemeContextProvider__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(\"+lJc\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var _constants_THEMES__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(\"3mUM\");\n/* harmony import */ var _services_userAuth_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(\"f5/H\");\n/* harmony import */ var _context_UserContextProvider__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(\"iCec\");\n/* harmony import */ var _hooks_useTheme__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(\"7w+Y\");\n/* harmony import */ var _components_CustomInput_CustomPasswordInput__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(\"DH0G\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(\"NyWP\");\n/* harmony import */ var nookies__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(nookies__WEBPACK_IMPORTED_MODULE_29__);\n/* harmony import */ var _utils_loading__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(\"zzrN\");\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n // @material-ui/core components\n\n\n // layout for this page\n\n // core components\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction LoginView(_ref) {\n  var consultorioId = _ref.consultorioId;\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_23__[\"useRouter\"])();\n  var path = \"Inicio\";\n  var classes = Object(_hooks_useTheme__WEBPACK_IMPORTED_MODULE_27__[/* default */ \"a\"])(assets_jss_nextjs_material_dashboard_layouts_loginStyle_js__WEBPACK_IMPORTED_MODULE_21__[/* default */ \"a\"]);\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(\"\"),\n      errorMsg = _useState[0],\n      setErrorMsg = _useState[1];\n\n  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useContext\"])(_context_UserContextProvider__WEBPACK_IMPORTED_MODULE_26__[/* UserContext */ \"a\"]),\n      setUser = _useContext.setUser;\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(event) {\n      var formData, tipoDoc, username, password, loginResponse;\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              formData = new FormData(event.target);\n              tipoDoc = formData.get(\"tipodoc\");\n              username = formData.get(\"username\");\n              password = formData.get(\"password\");\n              Object(_utils_loading__WEBPACK_IMPORTED_MODULE_30__[/* showLoad */ \"b\"])(path);\n              loginResponse = {};\n              _context.prev = 7;\n              _context.next = 10;\n              return Object(_services_userAuth_js__WEBPACK_IMPORTED_MODULE_25__[/* logIn */ \"b\"])(tipoDoc, username, password, consultorioId);\n\n            case 10:\n              loginResponse = _context.sent;\n              _context.next = 15;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](7);\n\n            case 15:\n              _context.prev = 15;\n              return _context.finish(15);\n\n            case 17:\n              console.log(loginResponse); // loginResponse = {message: \"Sus datos están cargados pero no se encuentra registrado. Ingrese a \\\"registrarse\\\".\"}\n\n              if (!loginResponse.loggedIn) {\n                _context.next = 28;\n                break;\n              }\n\n              sessionStorage.setItem(\"id\", loginResponse.data.id);\n              sessionStorage.setItem(\"token\", loginResponse.token);\n              Object(nookies__WEBPACK_IMPORTED_MODULE_29__[\"setCookie\"])(null, 'id', loginResponse.data.id, {\n                maxAge: 50 * 365 * 24 * 60 * 60,\n                path: '/'\n              });\n              Object(nookies__WEBPACK_IMPORTED_MODULE_29__[\"setCookie\"])(null, 'token', loginResponse.token, {\n                maxAge: 24 * 60 * 60,\n                path: '/'\n              });\n              setUser(_objectSpread(_objectSpread({}, loginResponse.data), {}, {\n                consultorioId: consultorioId\n              }));\n              router.push(\"/admin/\" + consultorioId + \"/dashboard\");\n              return _context.abrupt(\"return\", true);\n\n            case 28:\n              sessionStorage.clear();\n              Object(_utils_loading__WEBPACK_IMPORTED_MODULE_30__[/* hideLoad */ \"a\"])(path);\n              setErrorMsg(loginResponse.message);\n              return _context.abrupt(\"return\", false);\n\n            case 32:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[7, 13, 15, 17]]);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleRegisterRedirect = function handleRegisterRedirect() {\n    var currentPath = router.asPath; // get the current URL path\n\n    router.push(currentPath + \"/register\");\n  };\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"form\", {\n    method: \"post\",\n    action: \"/admin/dashboard\",\n    onSubmit: handleSubmit,\n    autoComplete: \"on\",\n    children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(components_Grid_GridContainer_js__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"], {\n      style: {\n        width: \"100%\",\n        height: \"80vh\",\n        alignItems: \"center\"\n      },\n      justify: \"center\",\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(components_Grid_GridItem_js__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n        xs: 12,\n        sm: 10,\n        md: 7,\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(components_Card_Card_js__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"], {\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(components_Card_CardHeader_js__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n            color: \"primary\",\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h4\", {\n              className: classes.cardTitleWhite,\n              children: \"Bienvenido\"\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\", {\n              className: classes.cardCategoryWhite,\n              children: \"Complete sus datos de ingreso\"\n            })]\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(components_Card_CardBody_js__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"], {\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(components_Grid_GridContainer_js__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"], {\n              children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(components_Grid_GridItem_js__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n                xs: 12,\n                sm: 12,\n                md: 12,\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"], {\n                  fullWidth: true,\n                  children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_material_ui_core_InputLabel__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n                    className: classes.label,\n                    variant: \"standard\",\n                    htmlFor: \"uncontrolled-native\",\n                    children: \"Tipo de Documento\"\n                  }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"], {\n                    className: classes.select,\n                    classes: {\n                      root: classes.selectRoot\n                    },\n                    defaultValue: 1,\n                    inputProps: {\n                      name: 'tipodoc',\n                      id: 'uncontrolled-native',\n                      required: true,\n                      onChange: function onChange() {\n                        return setErrorMsg(false);\n                      }\n                    },\n                    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_20__[/* default */ \"a\"], {\n                      value: 1,\n                      selected: true,\n                      children: \"DNI\"\n                    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_20__[/* default */ \"a\"], {\n                      value: 2,\n                      children: \"CI\"\n                    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_20__[/* default */ \"a\"], {\n                      value: 3,\n                      children: \"Pasaporte\"\n                    })]\n                  })]\n                })\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(components_Grid_GridItem_js__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n                xs: 12,\n                sm: 12,\n                md: 12,\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(components_CustomInput_CustomInput_js__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n                  labelText: \"Nro. de Documento\",\n                  id: \"username\",\n                  formControlProps: {\n                    fullWidth: true\n                  },\n                  inputProps: {\n                    name: 'username',\n                    id: \"username\",\n                    type: \"number\",\n                    required: true,\n                    autoComplete: \"username\",\n                    onChange: function onChange() {\n                      return setErrorMsg(false);\n                    }\n                  }\n                })\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(components_Grid_GridItem_js__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n                xs: 12,\n                sm: 12,\n                md: 12,\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_CustomInput_CustomPasswordInput__WEBPACK_IMPORTED_MODULE_28__[/* default */ \"a\"], {\n                  labelText: \"Contrase\\xF1a\",\n                  inputName: \"password\",\n                  handleChangeHook: function handleChangeHook() {\n                    return setErrorMsg(false);\n                  }\n                })\n              }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(components_Grid_GridItem_js__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\", {\n                  style: {\n                    color: errorMsg ? \"red\" : \"transparent\",\n                    margin: \"0\",\n                    transition: \"all 0.6s\",\n                    userSelect: \"none\"\n                  },\n                  children: errorMsg ? errorMsg : \"Sus datos estan cargados pero no se encuentra registrado. Ingrese a \\\"registrarse\\\".\"\n                })\n              })]\n            })\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(components_Card_CardFooter_js__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"], {\n            style: {\n              paddingTop: \"0\",\n              flexWrap: \"wrap\",\n              rowGap: \"10px\",\n              justifyContent: \"center\",\n              paddingInline: \"18px\"\n            },\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n              style: {\n                flex: \"1 0 33.33%\",\n                textAlign: \"left\"\n              },\n              className: \"botonLoginRegistro\",\n              children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(components_CustomButtons_Button_js__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n                onClick: handleRegisterRedirect,\n                type: \"button\",\n                color: \"primaryOutlined\",\n                style: {\n                  padding: \"15px 6px\"\n                },\n                children: \"Registrarse\"\n              })\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n              style: {\n                flex: \"1 0 33.33%\",\n                textAlign: \"center\"\n              },\n              className: \"botonLoginIngreso\",\n              children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(components_CustomButtons_Button_js__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n                type: \"submit\",\n                color: \"primary\",\n                style: {\n                  fontSize: \"1.35em\"\n                },\n                children: \"Ingresar\"\n              })\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n              style: {\n                flex: \"1 0 33.33%\",\n                textAlign: \"right\"\n              },\n              className: \"botonLoginOlvido\",\n              children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(components_CustomButtons_Button_js__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n                type: \"button\",\n                color: \"secondarySimple\",\n                style: {\n                  padding: \"15px 6px\"\n                },\n                children: \"Olvid\\xE9 mi contrase\\xF1a\"\n              })\n            })]\n          })]\n        })\n      })\n    })\n  });\n}\n\nLoginView.layout = _layouts_Login__WEBPACK_IMPORTED_MODULE_17__[/* default */ \"a\"];\nvar __N_SSP = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (LoginView);\n\n/***/ })\n\n},[[\"/JOw\",0,1,2,3,5,6,8,9,11,4]]]);","inputSourceMap":{"version":3,"sources":["C:\\DATOS\\THISYS\\SISTEMA\\PORTAL WEB\\Proyecto-Salud\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Flogin%2F%5BconsultorioId%5D&absolutePagePath=private-next-pages%2Flogin%2F%5BconsultorioId%5D.js!","C:\\DATOS\\THISYS\\SISTEMA\\PORTAL WEB\\Proyecto-Salud\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\DATOS\\THISYS\\SISTEMA\\PORTAL WEB\\Proyecto-Salud\\pages\\login\\[consultorioId].js"],"names":[],"mappings":"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,6DAAI,CAAC,2EAAQ;AAC5C,uCAAuC,6DAAI;AAC3C;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,iBAAiB;AACjB,eAAe;AACf,aAAa;AACb,WAAW,gBAAgB,8DAAK,CAAC,8EAAU;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,oCAAoC,6DAAI;AACxC;AACA;AACA;AACA,eAAe;AACf;AACA,qCAAqC,6DAAI,CAAC,mFAAM;AAChD;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,eAAe;AACf,aAAa,gBAAgB,6DAAI;AACjC;AACA;AACA;AACA,eAAe;AACf;AACA,qCAAqC,6DAAI,CAAC,mFAAM;AAChD;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,eAAe;AACf,aAAa,gBAAgB,6DAAI;AACjC;AACA;AACA;AACA,eAAe;AACf;AACA,qCAAqC,6DAAI,CAAC,mFAAM;AAChD;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,eAAe;AACf,aAAa;AACb,WAAW;AACX,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEA,mBAAmB,+DAAK;AACjB;AACQ,wEAAS,E","file":"x","sourcesContent":["\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/login/[consultorioId]\",\n        function () {\n          return require(\"private-next-pages/login/[consultorioId].js\");\n        }\n      ]);\n    ","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext, useEffect, useState } from \"react\"; // @material-ui/core components\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\"; // layout for this page\n\nimport Admin from \"layouts/Admin.js\"; // core components\n\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardAvatar from \"components/Card/CardAvatar.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardFooter from \"components/Card/CardFooter.js\";\nimport avatar from \"assets/img/faces/marc.jpg\";\nimport Login from \"../../layouts/Login\";\nimport { FormControl, FormGroup, MenuItem, NativeSelect, Select, TextField } from \"@material-ui/core\";\nimport styles from \"assets/jss/nextjs-material-dashboard/layouts/loginStyle.js\";\nimport { ThemeContext } from \"../../context/ThemeContextProvider\";\nimport { useRouter } from \"next/router\";\nimport THEMES from \"../../constants/THEMES\";\nimport { logIn } from \"../../services/userAuth.js\";\nimport { UserContext } from \"../../context/UserContextProvider\";\nimport useTheme from \"../../hooks/useTheme\";\nimport CustomPasswordInput from \"../../components/CustomInput/CustomPasswordInput\";\nimport { setCookie } from \"nookies\";\nimport { hideLoad, showLoad } from \"../../utils/loading\";\n\nfunction LoginView(_ref) {\n  var consultorioId = _ref.consultorioId;\n  var router = useRouter();\n  var path = \"Inicio\";\n  var classes = useTheme(styles);\n\n  var _useState = useState(\"\"),\n      errorMsg = _useState[0],\n      setErrorMsg = _useState[1];\n\n  var _useContext = useContext(UserContext),\n      setUser = _useContext.setUser;\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var formData, tipoDoc, username, password, loginResponse;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              formData = new FormData(event.target);\n              tipoDoc = formData.get(\"tipodoc\");\n              username = formData.get(\"username\");\n              password = formData.get(\"password\");\n              showLoad(path);\n              loginResponse = {};\n              _context.prev = 7;\n              _context.next = 10;\n              return logIn(tipoDoc, username, password, consultorioId);\n\n            case 10:\n              loginResponse = _context.sent;\n              _context.next = 15;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](7);\n\n            case 15:\n              _context.prev = 15;\n              return _context.finish(15);\n\n            case 17:\n              console.log(loginResponse); // loginResponse = {message: \"Sus datos están cargados pero no se encuentra registrado. Ingrese a \\\"registrarse\\\".\"}\n\n              if (!loginResponse.loggedIn) {\n                _context.next = 28;\n                break;\n              }\n\n              sessionStorage.setItem(\"id\", loginResponse.data.id);\n              sessionStorage.setItem(\"token\", loginResponse.token);\n              setCookie(null, 'id', loginResponse.data.id, {\n                maxAge: 50 * 365 * 24 * 60 * 60,\n                path: '/'\n              });\n              setCookie(null, 'token', loginResponse.token, {\n                maxAge: 24 * 60 * 60,\n                path: '/'\n              });\n              setUser(_objectSpread(_objectSpread({}, loginResponse.data), {}, {\n                consultorioId: consultorioId\n              }));\n              router.push(\"/admin/\" + consultorioId + \"/dashboard\");\n              return _context.abrupt(\"return\", true);\n\n            case 28:\n              sessionStorage.clear();\n              hideLoad(path);\n              setErrorMsg(loginResponse.message);\n              return _context.abrupt(\"return\", false);\n\n            case 32:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[7, 13, 15, 17]]);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleRegisterRedirect = function handleRegisterRedirect() {\n    var currentPath = router.asPath; // get the current URL path\n\n    router.push(currentPath + \"/register\");\n  };\n\n  return /*#__PURE__*/_jsx(\"form\", {\n    method: \"post\",\n    action: \"/admin/dashboard\",\n    onSubmit: handleSubmit,\n    autoComplete: \"on\",\n    children: /*#__PURE__*/_jsx(GridContainer, {\n      style: {\n        width: \"100%\",\n        height: \"80vh\",\n        alignItems: \"center\"\n      },\n      justify: \"center\",\n      children: /*#__PURE__*/_jsx(GridItem, {\n        xs: 12,\n        sm: 10,\n        md: 7,\n        children: /*#__PURE__*/_jsxs(Card, {\n          children: [/*#__PURE__*/_jsxs(CardHeader, {\n            color: \"primary\",\n            children: [/*#__PURE__*/_jsx(\"h4\", {\n              className: classes.cardTitleWhite,\n              children: \"Bienvenido\"\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: classes.cardCategoryWhite,\n              children: \"Complete sus datos de ingreso\"\n            })]\n          }), /*#__PURE__*/_jsx(CardBody, {\n            children: /*#__PURE__*/_jsxs(GridContainer, {\n              children: [/*#__PURE__*/_jsx(GridItem, {\n                xs: 12,\n                sm: 12,\n                md: 12,\n                children: /*#__PURE__*/_jsxs(FormControl, {\n                  fullWidth: true,\n                  children: [/*#__PURE__*/_jsx(InputLabel, {\n                    className: classes.label,\n                    variant: \"standard\",\n                    htmlFor: \"uncontrolled-native\",\n                    children: \"Tipo de Documento\"\n                  }), /*#__PURE__*/_jsxs(Select, {\n                    className: classes.select,\n                    classes: {\n                      root: classes.selectRoot\n                    },\n                    defaultValue: 1,\n                    inputProps: {\n                      name: 'tipodoc',\n                      id: 'uncontrolled-native',\n                      required: true,\n                      onChange: function onChange() {\n                        return setErrorMsg(false);\n                      }\n                    },\n                    children: [/*#__PURE__*/_jsx(MenuItem, {\n                      value: 1,\n                      selected: true,\n                      children: \"DNI\"\n                    }), /*#__PURE__*/_jsx(MenuItem, {\n                      value: 2,\n                      children: \"CI\"\n                    }), /*#__PURE__*/_jsx(MenuItem, {\n                      value: 3,\n                      children: \"Pasaporte\"\n                    })]\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(GridItem, {\n                xs: 12,\n                sm: 12,\n                md: 12,\n                children: /*#__PURE__*/_jsx(CustomInput, {\n                  labelText: \"Nro. de Documento\",\n                  id: \"username\",\n                  formControlProps: {\n                    fullWidth: true\n                  },\n                  inputProps: {\n                    name: 'username',\n                    id: \"username\",\n                    type: \"number\",\n                    required: true,\n                    autoComplete: \"username\",\n                    onChange: function onChange() {\n                      return setErrorMsg(false);\n                    }\n                  }\n                })\n              }), /*#__PURE__*/_jsx(GridItem, {\n                xs: 12,\n                sm: 12,\n                md: 12,\n                children: /*#__PURE__*/_jsx(CustomPasswordInput, {\n                  labelText: \"Contrase\\xF1a\",\n                  inputName: \"password\",\n                  handleChangeHook: function handleChangeHook() {\n                    return setErrorMsg(false);\n                  }\n                })\n              }), /*#__PURE__*/_jsx(GridItem, {\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  style: {\n                    color: errorMsg ? \"red\" : \"transparent\",\n                    margin: \"0\",\n                    transition: \"all 0.6s\",\n                    userSelect: \"none\"\n                  },\n                  children: errorMsg ? errorMsg : \"Sus datos estan cargados pero no se encuentra registrado. Ingrese a \\\"registrarse\\\".\"\n                })\n              })]\n            })\n          }), /*#__PURE__*/_jsxs(CardFooter, {\n            style: {\n              paddingTop: \"0\",\n              flexWrap: \"wrap\",\n              rowGap: \"10px\",\n              justifyContent: \"center\",\n              paddingInline: \"18px\"\n            },\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              style: {\n                flex: \"1 0 33.33%\",\n                textAlign: \"left\"\n              },\n              className: \"botonLoginRegistro\",\n              children: /*#__PURE__*/_jsx(Button, {\n                onClick: handleRegisterRedirect,\n                type: \"button\",\n                color: \"primaryOutlined\",\n                style: {\n                  padding: \"15px 6px\"\n                },\n                children: \"Registrarse\"\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              style: {\n                flex: \"1 0 33.33%\",\n                textAlign: \"center\"\n              },\n              className: \"botonLoginIngreso\",\n              children: /*#__PURE__*/_jsx(Button, {\n                type: \"submit\",\n                color: \"primary\",\n                style: {\n                  fontSize: \"1.35em\"\n                },\n                children: \"Ingresar\"\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              style: {\n                flex: \"1 0 33.33%\",\n                textAlign: \"right\"\n              },\n              className: \"botonLoginOlvido\",\n              children: /*#__PURE__*/_jsx(Button, {\n                type: \"button\",\n                color: \"secondarySimple\",\n                style: {\n                  padding: \"15px 6px\"\n                },\n                children: \"Olvid\\xE9 mi contrase\\xF1a\"\n              })\n            })]\n          })]\n        })\n      })\n    })\n  });\n}\n\nLoginView.layout = Login;\nexport var __N_SSP = true;\nexport default LoginView;"]}}