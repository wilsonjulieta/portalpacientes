{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useContext, useEffect, useState } from \"react\"; // @material-ui/core components\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\"; // layout for this page\n\nimport Admin from \"layouts/Admin.js\"; // core components\n\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardAvatar from \"components/Card/CardAvatar.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardFooter from \"components/Card/CardFooter.js\";\nimport avatar from \"assets/img/faces/marc.jpg\";\nimport Login from \"../../../layouts/Login\";\nimport { Box, Checkbox, FormControl, FormControlLabel, FormGroup, FormHelperText, MenuItem, NativeSelect, Select, Step, StepContent, StepLabel, Stepper, TextField, Typography } from \"@material-ui/core\";\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions } from '@material-ui/core';\nimport styles from \"assets/jss/nextjs-material-dashboard/layouts/loginStyle.js\";\nimport { ThemeContext } from \"../../../context/ThemeContextProvider\";\nimport { useRouter } from \"next/router\";\nimport THEMES from \"../../../constants/THEMES\";\nimport { logIn } from \"../../../services/userAuth.js\";\nimport { UserContext } from \"../../../context/UserContextProvider\";\nimport useTheme from \"../../../hooks/useTheme\";\nimport CustomPasswordInput from \"../../../components/CustomInput/CustomPasswordInput\";\nimport usePasswordConfirmation from \"../../../hooks/usePasswordConfirmation\";\nimport { useRef } from \"react\";\nimport MUIButton from \"@material-ui/core/Button\";\nimport SendIcon from '@material-ui/icons/Send';\nimport VerificationInput from \"react-verification-input\";\nimport { getHealthCareList } from \"../../../services/healthcare\";\nimport GLOBAL_GET_TOKEN from \"../../../utils/token\";\nimport { destroyCookie, parseCookies } from \"nookies\";\n\nfunction ConfirmationDialog({\n  open,\n  setOpen,\n  onClose,\n  onConfirm,\n  setActiveStep\n}) {\n  const classes = useTheme(styles);\n  const {\n    0: resendDisabled,\n    1: setResendDisabled\n  } = useState(false);\n  const {\n    0: codeDisabled,\n    1: setCodeDisabled\n  } = useState(false);\n  const {\n    0: code,\n    1: setCode\n  } = useState(\"\");\n  const {\n    0: codeState,\n    1: setCodeState\n  } = useState(\"\");\n  const confirmRef = useRef();\n\n  const handleCancel = () => {\n    onClose();\n  };\n\n  const handleEnterKey = event => {\n    if (event.key === \"Enter\") {\n      handleConfirm();\n    }\n  };\n\n  const handleConfirm = () => {\n    if (document.getElementById(\"verifInput\").reportValidity()) {\n      setCodeDisabled(true);\n      setCodeState(\"Success\");\n      setTimeout(() => {\n        setActiveStep(prev => prev + 1);\n        setOpen(false);\n      }, 1500);\n      setTimeout(() => {\n        setCode(\"\");\n        setCodeDisabled(false);\n        setCodeState(\"\");\n      }, 1600);\n    } else {\n      setCodeState(\"Error\");\n    }\n  };\n\n  const handleResend = () => {\n    setResendDisabled(true);\n    setTimeout(() => {\n      setResendDisabled(false);\n    }, 3000);\n  };\n\n  return /*#__PURE__*/_jsxs(Dialog, {\n    open: open,\n    disableBackdropClick: true,\n    disableEscapeKeyDown: true,\n    onKeyDown: handleEnterKey,\n    children: [/*#__PURE__*/_jsx(DialogTitle, {\n      style: {\n        textAlign: \"center\",\n        paddingBottom: \"0\"\n      },\n      children: \"Verificar c\\xF3digo\"\n    }), /*#__PURE__*/_jsxs(DialogContent, {\n      children: [/*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsx(DialogContentText, {\n        children: \"Se envi\\xF3 un c\\xF3digo al mail ingresado, ingrese y confirme para validar\"\n      }), /*#__PURE__*/_jsx(VerificationInput, {\n        validChars: \"0-9\",\n        inputProps: {\n          inputMode: \"numeric\",\n          minLength: 6,\n          required: true,\n          id: \"verifInput\",\n          autoComplete: \"off\",\n          disabled: codeDisabled\n        },\n        value: code,\n        onChange: value => {\n          if (value.length < 7) setCode(value);\n          setCodeState(\"\");\n        },\n        autoFocus: true,\n        classNames: {\n          character: classes[\"vicharacter\" + codeState]\n        }\n      }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: /*#__PURE__*/_jsx(MUIButton, {\n          variant: \"outlined\",\n          endIcon: /*#__PURE__*/_jsx(SendIcon, {}),\n          disabled: resendDisabled,\n          onClick: handleResend,\n          children: \"Reenviar\"\n        })\n      }), /*#__PURE__*/_jsx(\"hr\", {})]\n    }), /*#__PURE__*/_jsxs(DialogActions, {\n      classes: {\n        root: classes.dialogActions\n      },\n      children: [/*#__PURE__*/_jsx(Button, {\n        onClick: () => setOpen(false),\n        color: \"primary\",\n        children: \"Cancelar\"\n      }), /*#__PURE__*/_jsx(Button, {\n        onClick: handleConfirm,\n        color: \"primary\",\n        children: \"Confirmar\"\n      })]\n    })]\n  });\n}\n\nfunction ServerError() {\n  const router = useRouter();\n  const {\n    consultorioId\n  } = router.query;\n  const classes = useTheme(styles);\n  const {\n    0: errorMsg,\n    1: setErrorMsg\n  } = useState(\"\");\n  useEffect(() => {\n    setTimeout(() => {\n      router.push('/login/' + consultorioId);\n    }, 2500);\n  }, []);\n\n  if (router.query.firstTry === \"true\") {\n    const cookies = parseCookies();\n    destroyCookie(null, \"id\", {\n      path: \"/\"\n    });\n  }\n\n  return /*#__PURE__*/_jsx(GridContainer, {\n    children: /*#__PURE__*/_jsx(GridItem, {\n      style: {\n        textAlign: \"center\"\n      },\n      xs: 12,\n      children: \"Ocurri\\xF3 un error en el servidor. Intentando nuevamente.\"\n    })\n  });\n}\n\nServerError.layout = Login;\nexport default ServerError;","map":null,"metadata":{},"sourceType":"module"}