{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { destroyCookie } from \"nookies\";\nexport function serverSidePropsAuth() {\n  return _serverSidePropsAuth.apply(this, arguments);\n}\n\nfunction _serverSidePropsAuth() {\n  _serverSidePropsAuth = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var withSession, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // Fetch data from external API\n            // const res = await fetch(`https://rickandmortyapi.com/api/character`)\n            // const data = await res.json()\n            withSession = true;\n            _context.next = 3;\n            return new Promise(function (resolve) {\n              setTimeout(function () {\n                resolve(35);\n              }, 0);\n            });\n\n          case 3:\n            data = _context.sent;\n\n            if (!withSession) {\n              _context.next = 8;\n              break;\n            }\n\n            return _context.abrupt(\"return\", {\n              props: {\n                data: data\n              }\n            });\n\n          case 8:\n            return _context.abrupt(\"return\", {\n              redirect: {\n                permanent: false,\n                destination: \"/page\"\n              },\n              props: {}\n            });\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _serverSidePropsAuth.apply(this, arguments);\n}\n\nexport function logout(router) {\n  destroyCookie(null, \"id\", {\n    path: \"/\"\n  });\n  destroyCookie(null, \"dni\", {\n    path: \"/\"\n  });\n  sessionStorage.clear();\n  router.push(\"/\");\n}","map":null,"metadata":{},"sourceType":"module"}