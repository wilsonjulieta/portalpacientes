{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\DATOS\\\\THISYS\\\\SISTEMA\\\\PORTAL WEB\\\\Proyecto-Salud\\\\pages\\\\login\\\\[consultorioId]\\\\server-error.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\"; // @material-ui/core components\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\"; // layout for this page\n\nimport Admin from \"layouts/Admin.js\"; // core components\n\nimport GridItem from \"components/Grid/GridItem.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardAvatar from \"components/Card/CardAvatar.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardFooter from \"components/Card/CardFooter.js\";\nimport avatar from \"assets/img/faces/marc.jpg\";\nimport Login from \"../../../layouts/Login\";\nimport { Box, Checkbox, FormControl, FormControlLabel, FormGroup, FormHelperText, MenuItem, NativeSelect, Select, Step, StepContent, StepLabel, Stepper, TextField, Typography } from \"@material-ui/core\";\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions } from '@material-ui/core';\nimport styles from \"assets/jss/nextjs-material-dashboard/layouts/loginStyle.js\";\nimport { ThemeContext } from \"../../../context/ThemeContextProvider\";\nimport { useRouter } from \"next/router\";\nimport THEMES from \"../../../constants/THEMES\";\nimport { logIn } from \"../../../services/userAuth.js\";\nimport { UserContext } from \"../../../context/UserContextProvider\";\nimport useTheme from \"../../../hooks/useTheme\";\nimport CustomPasswordInput from \"../../../components/CustomInput/CustomPasswordInput\";\nimport usePasswordConfirmation from \"../../../hooks/usePasswordConfirmation\";\nimport { useRef } from \"react\";\nimport MUIButton from \"@material-ui/core/Button\";\nimport SendIcon from '@material-ui/icons/Send';\nimport VerificationInput from \"react-verification-input\";\nimport { getHealthCareList } from \"../../../services/healthcare\";\nimport GLOBAL_GET_TOKEN from \"../../../utils/token\";\nimport { destroyCookie, parseCookies } from \"nookies\";\n\nfunction ConfirmationDialog({\n  open,\n  setOpen,\n  onClose,\n  onConfirm,\n  setActiveStep\n}) {\n  _s();\n\n  const classes = useTheme(styles);\n  const {\n    0: resendDisabled,\n    1: setResendDisabled\n  } = useState(false);\n  const {\n    0: codeDisabled,\n    1: setCodeDisabled\n  } = useState(false);\n  const {\n    0: code,\n    1: setCode\n  } = useState(\"\");\n  const {\n    0: codeState,\n    1: setCodeState\n  } = useState(\"\");\n  const confirmRef = useRef();\n\n  const handleCancel = () => {\n    onClose();\n  };\n\n  const handleEnterKey = event => {\n    if (event.key === \"Enter\") {\n      handleConfirm();\n    }\n  };\n\n  const handleConfirm = () => {\n    if (document.getElementById(\"verifInput\").reportValidity()) {\n      setCodeDisabled(true);\n      setCodeState(\"Success\");\n      setTimeout(() => {\n        setActiveStep(prev => prev + 1);\n        setOpen(false);\n      }, 1500);\n      setTimeout(() => {\n        setCode(\"\");\n        setCodeDisabled(false);\n        setCodeState(\"\");\n      }, 1600);\n    } else {\n      setCodeState(\"Error\");\n    }\n  };\n\n  const handleResend = () => {\n    setResendDisabled(true);\n    setTimeout(() => {\n      setResendDisabled(false);\n    }, 3000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    disableBackdropClick: true,\n    disableEscapeKeyDown: true,\n    onKeyDown: handleEnterKey,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      style: {\n        textAlign: \"center\",\n        paddingBottom: \"0\"\n      },\n      children: \"Verificar c\\xF3digo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContentText, {\n        children: \"Se envi\\xF3 un c\\xF3digo al mail ingresado, ingrese y confirme para validar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(VerificationInput, {\n        validChars: \"0-9\",\n        inputProps: {\n          inputMode: \"numeric\",\n          minLength: 6,\n          required: true,\n          id: \"verifInput\",\n          autoComplete: \"off\",\n          disabled: codeDisabled\n        },\n        value: code,\n        onChange: value => {\n          if (value.length < 7) setCode(value);\n          setCodeState(\"\");\n        },\n        autoFocus: true,\n        classNames: {\n          character: classes[\"vicharacter\" + codeState]\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(MUIButton, {\n          variant: \"outlined\",\n          endIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 60\n          }, this),\n          disabled: resendDisabled,\n          onClick: handleResend,\n          children: \"Reenviar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      classes: {\n        root: classes.dialogActions\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setOpen(false),\n        color: \"primary\",\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleConfirm,\n        color: \"primary\",\n        children: \"Confirmar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ConfirmationDialog, \"PYn6UJ/cBN4UEubW0XG3HnwfgS0=\", false, function () {\n  return [useTheme];\n});\n\n_c = ConfirmationDialog;\n\nfunction ServerError() {\n  _s2();\n\n  const router = useRouter();\n  const {\n    consultorioId\n  } = router.query;\n  const classes = useTheme(styles);\n  const {\n    0: errorMsg,\n    1: setErrorMsg\n  } = useState(\"\");\n  useEffect(() => {\n    setTimeout(() => {\n      router.push('/login/' + consultorioId);\n    }, 2500);\n  }, []);\n\n  if (router.query.firstTry === \"true\") {\n    const cookies = parseCookies();\n    destroyCookie(null, \"id\", {\n      path: \"/\"\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(GridContainer, {\n    children: /*#__PURE__*/_jsxDEV(GridItem, {\n      style: {\n        textAlign: \"center\"\n      },\n      xs: 12,\n      children: \"Ocurri\\xF3 un error en el servidor. Intentando nuevamente.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(ServerError, \"8Di+m2yDz/6Qjtwiuepg4TkGXlQ=\", false, function () {\n  return [useRouter, useTheme];\n});\n\n_c2 = ServerError;\nServerError.layout = Login;\nexport default ServerError;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ConfirmationDialog\");\n$RefreshReg$(_c2, \"ServerError\");","map":{"version":3,"sources":["C:/DATOS/THISYS/SISTEMA/PORTAL WEB/Proyecto-Salud/pages/login/[consultorioId]/server-error.js"],"names":["React","useContext","useEffect","useState","makeStyles","InputLabel","Admin","GridItem","GridContainer","CustomInput","Button","Card","CardHeader","CardAvatar","CardBody","CardFooter","avatar","Login","Box","Checkbox","FormControl","FormControlLabel","FormGroup","FormHelperText","MenuItem","NativeSelect","Select","Step","StepContent","StepLabel","Stepper","TextField","Typography","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","styles","ThemeContext","useRouter","THEMES","logIn","UserContext","useTheme","CustomPasswordInput","usePasswordConfirmation","useRef","MUIButton","SendIcon","VerificationInput","getHealthCareList","GLOBAL_GET_TOKEN","destroyCookie","parseCookies","ConfirmationDialog","open","setOpen","onClose","onConfirm","setActiveStep","classes","resendDisabled","setResendDisabled","codeDisabled","setCodeDisabled","code","setCode","codeState","setCodeState","confirmRef","handleCancel","handleEnterKey","event","key","handleConfirm","document","getElementById","reportValidity","setTimeout","prev","handleResend","textAlign","paddingBottom","inputMode","minLength","required","id","autoComplete","disabled","value","length","character","root","dialogActions","ServerError","router","consultorioId","query","errorMsg","setErrorMsg","push","firstTry","cookies","path","layout"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\n// layout for this page\r\nimport Admin from \"layouts/Admin.js\";\r\n// core components\r\nimport GridItem from \"components/Grid/GridItem.js\";\r\nimport GridContainer from \"components/Grid/GridContainer.js\";\r\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\r\nimport Button from \"components/CustomButtons/Button.js\";\r\nimport Card from \"components/Card/Card.js\";\r\nimport CardHeader from \"components/Card/CardHeader.js\";\r\nimport CardAvatar from \"components/Card/CardAvatar.js\";\r\nimport CardBody from \"components/Card/CardBody.js\";\r\nimport CardFooter from \"components/Card/CardFooter.js\";\r\n\r\nimport avatar from \"assets/img/faces/marc.jpg\";\r\nimport Login from \"../../../layouts/Login\";\r\nimport { Box, Checkbox, FormControl, FormControlLabel, FormGroup, FormHelperText, MenuItem, NativeSelect, Select, Step, StepContent, StepLabel, Stepper, TextField, Typography } from \"@material-ui/core\";\r\n\r\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions } from '@material-ui/core';\r\n\r\nimport styles from \"assets/jss/nextjs-material-dashboard/layouts/loginStyle.js\";\r\nimport { ThemeContext } from \"../../../context/ThemeContextProvider\";\r\nimport { useRouter } from \"next/router\";\r\nimport THEMES from \"../../../constants/THEMES\";\r\nimport { logIn } from \"../../../services/userAuth.js\";\r\nimport { UserContext } from \"../../../context/UserContextProvider\";\r\nimport useTheme from \"../../../hooks/useTheme\";\r\nimport CustomPasswordInput from \"../../../components/CustomInput/CustomPasswordInput\";\r\nimport usePasswordConfirmation from \"../../../hooks/usePasswordConfirmation\";\r\nimport { useRef } from \"react\";\r\n\r\nimport MUIButton from \"@material-ui/core/Button\";\r\nimport SendIcon from '@material-ui/icons/Send';\r\n\r\n\r\nimport VerificationInput from \"react-verification-input\";\r\nimport { getHealthCareList } from \"../../../services/healthcare\";\r\nimport GLOBAL_GET_TOKEN from \"../../../utils/token\";\r\nimport { destroyCookie, parseCookies } from \"nookies\";\r\n\r\nfunction ConfirmationDialog({ open, setOpen, onClose, onConfirm, setActiveStep }) {\r\n    const classes = useTheme(styles);\r\n\r\n    const [resendDisabled, setResendDisabled] = useState(false);\r\n\r\n    const [codeDisabled, setCodeDisabled] = useState(false);\r\n\r\n    const [code, setCode] = useState(\"\");\r\n\r\n    const [codeState, setCodeState] = useState(\"\");\r\n\r\n    const confirmRef = useRef();\r\n\r\n    const handleCancel = () => {\r\n        onClose();\r\n    };\r\n\r\n    const handleEnterKey = (event) => {\r\n        if (event.key === \"Enter\") {\r\n            handleConfirm()\r\n        }\r\n    }\r\n\r\n    const handleConfirm = () => {\r\n        if (document.getElementById(\"verifInput\").reportValidity()) {\r\n            setCodeDisabled(true);\r\n            setCodeState(\"Success\");\r\n\r\n            setTimeout(() => {\r\n                setActiveStep(prev => prev + 1);\r\n                setOpen(false);\r\n            }, 1500);\r\n\r\n            setTimeout(() => {\r\n                setCode(\"\");\r\n                setCodeDisabled(false);\r\n                setCodeState(\"\");\r\n            }, 1600);\r\n        }\r\n        else {\r\n            setCodeState(\"Error\");\r\n        }\r\n    };\r\n\r\n    const handleResend = () => {\r\n        setResendDisabled(true)\r\n\r\n        setTimeout(() => {\r\n            setResendDisabled(false)\r\n        }, 3000)\r\n    };\r\n\r\n    return (\r\n        <Dialog\r\n            open={open}\r\n            disableBackdropClick\r\n            disableEscapeKeyDown\r\n            onKeyDown={handleEnterKey}\r\n        >\r\n            <DialogTitle style={{ textAlign: \"center\", paddingBottom: \"0\" }}>Verificar c&oacute;digo</DialogTitle>\r\n            <DialogContent>\r\n                <hr />\r\n\r\n                <DialogContentText>\r\n                    Se envió un código al mail ingresado, ingrese y confirme para validar\r\n                </DialogContentText>\r\n\r\n                <VerificationInput validChars=\"0-9\"\r\n                    inputProps={{\r\n                        inputMode: \"numeric\",\r\n                        minLength: 6,\r\n                        required: true,\r\n                        id: \"verifInput\",\r\n                        autoComplete: \"off\",\r\n                        disabled: codeDisabled\r\n                    }}\r\n                    value={code}\r\n                    onChange={(value) => {\r\n                        if (value.length < 7)\r\n                            setCode(value)\r\n                        setCodeState(\"\")\r\n                    }}\r\n                    autoFocus\r\n                    classNames={{\r\n                        character: classes[\"vicharacter\" + codeState]\r\n                    }} />\r\n\r\n                <br />\r\n\r\n                <div style={{ textAlign: \"center\" }}>\r\n                    <MUIButton variant=\"outlined\" endIcon={<SendIcon />} disabled={resendDisabled} onClick={handleResend}>\r\n                        Reenviar\r\n                    </MUIButton>\r\n                </div>\r\n\r\n                <hr />\r\n            </DialogContent>\r\n            <DialogActions classes={{ root: classes.dialogActions }}>\r\n                <Button onClick={() => setOpen(false)} color=\"primary\">\r\n                    Cancelar\r\n                </Button>\r\n                <Button onClick={handleConfirm} color=\"primary\">\r\n                    Confirmar\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n}\r\n\r\nfunction ServerError() {\r\n\r\n    const router = useRouter();\r\n\r\n    const { consultorioId } = router.query;\r\n\r\n    const classes = useTheme(styles);\r\n\r\n    const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            router.push('/login/' + consultorioId);\r\n        }, 2500);\r\n    }, [])\r\n\r\n    if (router.query.firstTry === \"true\") {\r\n        const cookies = parseCookies();\r\n        destroyCookie(null, \"id\", {path: \"/\"})\r\n    }\r\n    \r\n    return (\r\n        <GridContainer >\r\n            <GridItem style={{ textAlign: \"center\" }} xs={12}>Ocurrió un error en el servidor. Intentando nuevamente.</GridItem>\r\n        </GridContainer>\r\n\r\n    )\r\n}\r\n\r\nServerError.layout = Login;\r\n\r\nexport default ServerError;\r\n"]},"metadata":{},"sourceType":"module"}